<div class="content-details">
    <form class="details-form" [formGroup]="form">
        <div class="details-start">
            <div class="details-start-left">
                <div class="start-left-name">
                    <div class="start-left-name-left">
                        <h4>Detalles del curso</h4>
                    </div>
                    <div class="start-left-name-right">

                        <ui-button [disabled]="form.pristine" (click)="resetForm()" neumorphism="raised"
                            [btnStyle]="{borderRadius: '30px'}" label="Restablecer" severity="secondary"
                            [icon]="{svgPath: 'svg/clear-all.svg'}">
                        </ui-button>
                        <ui-button [disabled]="!form.valid" neumorphism="raised" [btnStyle]="{borderRadius: '30px'}"
                            label="Guardar" severity="primary" [icon]="{svgPath: 'svg/save-outline.svg'}">
                        </ui-button>

                    </div>

                </div>
                <div class="start-left-edit">
                    <div class="start-left-edit-item">

                        <div class="start-left-edit-input">
                            <ui-input-label formControlName="title" label="Título (obligatorio)" severity="primary"
                                placeholder="Escribe un título claro y único" type="text" variant="outlined"
                                [counter]="true" [min]="10" [max]="100" [autoSize]="true"
                                [invalid]="f.description.invalid && (f.title.touched || f.title.dirty)"></ui-input-label>

                        </div>
                    </div>

                    <div class="start-left-edit-item">
                        <div class="start-left-edit-input">
                            <ui-input-label formControlName="description" label="Descripción" severity="primary"
                                placeholder="Describe el curso" type="textarea" variant="outlined" [counter]="true"
                                [min]="0" [max]="300" [autoSize]="true"
                                [invalid]="f.description.invalid && (f.description.touched || f.description.dirty)"></ui-input-label>
                        </div>
                    </div>


                    <div class="start-left-edit-item flex-column-item">
                        <label class="item-select-label" for="difficulty">Dificultad</label>
                        <ui-select-button formControlName="difficulty_id" [options]="mapDifficulties()"
                            [optionLabel]="'name'" [optionValue]="'id'" orientation="horizontal" variant="outlined"
                            severity="primary" size="sm" [multiple]="false"
                            (selectionChange)="onSelectDifficulty($event)">
                        </ui-select-button>
                    </div>
                    <div class="start-left-edit-item flex-row-item">
                        <div class="item-card">
                            <div class="item-card-header">
                                <label class="item-card-header-label" for="">Codigo de acceso</label>
                                <div class="item-card-header-icon">
                                    <ui-popover neumorphism="raised" [povStyle]="{width: 'auto'}" position="bottom-left"
                                        [closeOnOutside]="true" [closeOnInside]="true" [(visible)]="povOpen"
                                        [type]="'plain'" [variant]="'filled'" [severity]="'primary'">
                                        <ui-button label="Copiar vinculo de acceso" style="width: 100%;" size="md"
                                            variant="flat" neumorphism="flat"
                                            [btnStyle]="{borderRadius: '0px', width: '100%', height: '50px' ,justifyContent: 'left', fontSize: '13px'}"
                                            severity="contrast">
                                        </ui-button>
                                        <ui-button label="Copiar codigo de acceso" style="width: 100%;" size="md"
                                            variant="flat" neumorphism="flat"
                                            [btnStyle]="{borderRadius: '0px', width: '100%', height: '50px' ,justifyContent: 'left', fontSize: '13px'}"
                                            severity="contrast">
                                        </ui-button>
                                        <ui-button label="Restablecer codigo de acceso" style="width: 100%;" size="md"
                                            variant="flat" neumorphism="flat"
                                            [btnStyle]="{borderRadius: '0px', width: '100%', height: '50px' ,justifyContent: 'left', fontSize: '13px'}"
                                            severity="contrast">
                                        </ui-button>
                                        <ui-button label="Desactivar" style="width: 100%;" size="md" variant="flat"
                                            neumorphism="flat"
                                            [btnStyle]="{borderRadius: '0px', width: '100%', height: '50px' ,justifyContent: 'left', fontSize: '13px'}"
                                            severity="contrast">
                                        </ui-button>
                                    </ui-popover>
                                    <ui-button size="md" (click)="povOpen = !povOpen" variant="flat"
                                        neumorphism="raised"
                                        [btnStyle]="{borderRadius: '19px', width: '35px', height: '35px'}"
                                        severity="primary" [icon]="{svgPath: 'svg/menu-dots.svg'}">
                                    </ui-button>

                                </div>


                            </div>

                            <div class="item-card-body">
                                <span *ngIf="!form.get('code')?.value">Sin codigo de acceso</span>
                                <input readonly class="item-card-body-input" *ngIf="form.get('code')?.value" type="text"
                                    formControlName="code">
                                <div class="item-card-expand">
                                    <ui-button *ngIf="form.get('code')?.value" variant="flat"
                                        [btnStyle]="{borderRadius: '20px', width: '40px', height: '40px'}"
                                        severity="primary" [icon]="{svgPath: 'svg/expand.svg'}">


                                    </ui-button>

                                </div>

                            </div>
                        </div>
                        
                    </div>
                    <div class="start-left-edit-item">
                            <div class="item-checkbox">
                                <ui-toggle-witch formControlName="enabled" [severity]="'primary'" [size]="'sm'"
                                [type]="'checkbox'">
                            </ui-toggle-witch>
                            
                            <span *ngIf="form.get('enabled')?.value" for="">Curso activo</span>
                            <span *ngIf="!form.get('enabled')?.value" for="">Curso inactivo</span>
                            </div>
                            <div class="item-checkbox-description">
                                <span *ngIf="form.get('enabled')?.value">El curso estara disponible para los estudiantes</span>
                                <span *ngIf="!form.get('enabled')?.value">El curso no estara disponible para los estudiantes</span>
                            </div>
                            
                    </div>

                </div>
            </div>
            <div class="details-start-right">
                <div class="start-right-name">
                    <h4>Miniatura</h4>
                </div>
                <div class="start-right-edit">
                    <div class="start-right-edit-item">
                        <ui-file-upload formControlName="miniatureUrl" [fudStyle]="{width: '350px'}"
                            label="Suelta una imagen o selecciona" [types]="['image' , 'video' , 'document']"
                            [formats]="['jpg','png','gif','mp4','pdf']" variant="outlined" severity="primary"
                            size="sm"></ui-file-upload>
                    </div>

                    <div class="start-right-edit-item">
                        
                    </div>

                </div>
                

            </div>
        </div>
        <div class="details-end">

        </div>
    </form>
</div>